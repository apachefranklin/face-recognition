{% extends 'base.html' %} {% load static %} {% block content %}


<form method="post" action="{% url 'studentperform' %}" class="ajax-for" id="demo-form" enctype="multipart/form-data"> 
    {% csrf_token %} 
    
    <section class="bg-white border-b py-14">
        <div class="container max-w-7xl mx-auto m-8 mt-12">
            <h1 class="w-full my-2 text-3xl font-bold leading-tight text-center text-gray-800"> Student Management </h1>
            <div class="w-full mb-12">
                <div class="h-1 mx-auto gradient w-64 opacity-25 my-0 py-0 rounded-t"></div>
            </div>
            <div class="flex flex-wrap text-black">
                <div class="w-4/10 sm:w-5/12 p-6 shadow-xl">
                    <h1 class="text-2xl font-bold text-gray-800 mb-8">Create Student</h1>

                    <label><b>Registration ID (must be unique for each student)</b></label><br />
                    <input type="text" name="registration" value="" placeholder="Enter the registration id" required
                        class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400  focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500  disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 disabled:shadow-none  invalid:border-pink-500 invalid:text-pink-600  focus:invalid:border-pink-500 focus:invalid:ring-pink-500  mb-6" />
                    
                    
                    <label><b>Name</b></label><br />
                    <input type="text" name="name" value="" placeholder="Enter the student name" required
                        class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400  focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500  disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 disabled:shadow-none  invalid:border-pink-500 invalid:text-pink-600  focus:invalid:border-pink-500 focus:invalid:ring-pink-500  mb-6" />

                    <label><b>Last Name</b></label><br />
                    <input type="text" name="lastname" value="" placeholder="enter the student last name"
                        class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400  focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500  disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 disabled:shadow-none  invalid:border-pink-500 invalid:text-pink-600  focus:invalid:border-pink-500 focus:invalid:ring-pink-500  " />


                    <br /> <br />
                    <label><b>upload Student Face</b></label><br />

                    <input type="file" name="imgtoclass" required
                        class="block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 file:text-violet-700 hover:file:bg-violet-100"
                        onChange="showPreview(this,'#img_preview')" /> <br />
                    Face Preview:
                    <div class="border-0 img-preview" id="img_preview"> </div>

                    <button type="submit" value=""
                        style="display:block !important; width: 200px !important; height: 50px; background-color: rgb(41, 168, 168) !important; color: white;">
                        Create Student
                    </button>

                </div>
                <div class="w-1/10 sm:w-1/12 p-6 flex flex-wrap content-center pl-16"> </div>
                <div class="w-4/10 sm:w-5/12 p-6 shadow-2xl">
                    <h1 class="text-2xl font-bold text-gray-800">Studens List</h1><br />
                    <div id="new-result" style="height:400px; overflow-y:auto; padding:3px;">
                    
                        <div class="content"> 
                            
                                {% if students %}
                        <table  style="width: 100% !important; text-align:center; border: 1px solid !important">
                                <tr style="width: 100% !important; text-align:center; border: 1px solid !important">
                                    <th style="border: 1px solid !important">Registration</th>
                                    <th style="border: 1px solid !important">Full Name</th>
                                    <th style="border: 1px solid !important"> Face </th>
                                </tr>
                                {% for student in  students %}
                                    <tr style="border: 1px solid !important">
                                        <td style="border: 1px solid !important"> {{ student.registrationNumber }}</td>
                                        <td style="border: 1px solid !important"> {{ student.name }} {{ student.lastname }}</td>
                                        <td style="border: 1px solid !important; text-align:center !important; padding: 4px;">
                                        <center>
                                          <img src="{% static 'images/students/' %}{{ student.real_img }}" style="max=width: 50px; max-height: 50px" /> 
                                        </center>
                                      
                                        
                                        </td>
                                    </tr>
                                {% endfor %}
                        </table>
                    {% else %}
                    Not students yet
                    {% endif %}
                        </div>
                    </div>
                    <div id="result_template" class="hidden"> {% include "demo_part/progress.html" %} </div>
                </div>
            </div>
        </div>
    </section>
</form> <!-- Img viewver -->
<div id="image-viewver">
    <div class="container  content  flex flex-wrap content-center text-center"> </div>
</div>
<script
    type="text/javascript">     var header = document.getElementById("header"); var navcontent = document.getElementById("nav-content"); var navaction = document.getElementById("navAction"); var brandname = document.getElementById("brandname"); var toToggle = document.querySelectorAll(".toggleColour"); navaction.classList.add("gradient"); header.classList.add("shadow"); header.classList.add("bg-white"); for (var i = 0; i < toToggle.length; i++) { toToggle[i].classList.add("text-gray-800"); toToggle[i].classList.remove("text-white"); } </script>
{% endblock content %}